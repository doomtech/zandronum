uniform sampler2D texture1;
vec4 GetPixelLight();
vec4 ApplyPixelFog(vec4 pix);
vec4 Desaturate(vec4 pix);
vec4 ApplyTextureMode(vec4 texel);
	
vec4 ProcessPixel()
{
	vec4 texel = texture2D(texture1, gl_TexCoord[0].st);
	vec4 light = GetPixelLight();
	texel = ApplyTextureMode(texel);
	return ApplyPixelFog(Desaturate(texel) * light);
}
